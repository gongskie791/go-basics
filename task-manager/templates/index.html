<!DOCTYPE html>
<html>
<head>
    <title>Task Manager</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 500px; margin: 50px auto; }
        .task { padding: 10px; border-bottom: 1px solid #ddd; display: flex; align-items: center; }
        .completed { text-decoration: line-through; color: #888; }
        input[type="text"] { padding: 10px; width: 70%; }
        button { padding: 10px 20px; cursor: pointer; }
        a { margin-left: 10px; }
    </style>
</head>
<body>
    <h1>My Tasks ({{.Count}})</h1>

    <!-- Add new task form -->
    <form action="/add" method="POST">
        <input type="text" name="title" placeholder="Enter a task..." required>
        <button type="submit">Add</button>
    </form>

    <hr>

    <!-- List all tasks -->
    {{range .Tasks}}
    <div class="task">
        <span class="{{if .Completed}}completed{{end}}">
            {{.Title}}
        </span>
        <a href="/toggle?id={{.ID}}">✓</a>
        <a href="/delete?id={{.ID}}">✗</a>
    </div>
    {{else}}
    <p>No tasks yet. Add one above!</p>
    {{end}}
</body>
</html>